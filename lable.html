<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>目录</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <link rel="icon" sizes="any" href="http://p1g0rvvn6.bkt.clouddn.com/favicon.ico" title="怪诞咖啡">
</head>
<style>
    body {
        margin: 0;
        background: #cfe6d0;
        color: #5a3826
    }

    a {
        color: inherit;
        text-decoration: none
    }

     ::-moz-selection {
        background: pink;
        color: #ff0
    }

     ::selection {
        background: pink;
        color: #ff0
    }

    a {
        display: inline-block;
        padding: 6px 10px;
        -webkit-transition: all .6s;
        transition: all .6s
    }

    a:hover {
        color: #3c5a53;
        -webkit-transform: scale(1.2);
        transform: scale(1.2)
    }

    #list__box {
        padding: 20px 30px
    }
    /* 背景 */
    #container{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-9;}
</style>

<body>
    <div id="list__box">
        <div v-for="item,index of list">
            <span v-text="(list.length-index)+'.'"></span>
            <a target="_blank" :href="rootDire+item.href+'.html'" v-text="item.name"></a>
        </div>
    </div>
    <div id="container"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="./assets/js/three.js"></script>Ï
    <script src="./assets/js/Projector.js"></script>
    <script src="./assets/js/CanvasRenderer.js"></script>
    <script>
        var dataList = {
            "title": "怪诞咖啡blog目录",
            "list": [{
                "name": "JavaScript多线程",
                "href": "30multithreading"
            }, {
                "name": "精简和优化常用逻辑_1",
                "href": "29streamlining_and_optimization_1"
            }, {
                "name": "JavaScript中数组的各种操作方法",
                "href": "28js_arr"
            }, {
                "name": "JS错误类型",
                "href": "27js_error"
            }, {
                "name": "设备检测",
                "href": "26device"
            }, {
                "name": "ES6",
                "href": "25ES6"
            }, {
                "name": "2017 年前端开的统计报告",
                "href": "24a_statistical_report_on_the_2017_front-end"
            }, {
                "name": "git和github",
                "href": "23git_github"
            }, {
                "name": "iTerm2--MAC终端工具",
                "href": "22iterm"
            }, {
                "name": "正则表达式",
                "href": "21regexp"
            }, {
                "name": "php常用语法总结",
                "href": "20php-grammar"
            }, {
                "name": "PHP与MySQL开发入门",
                "href": "19php_mysql"
            }, {
                "name": "网页性能管理",
                "href": "18performance"
            }, {
                "name": "CCS3知识查缺补漏",
                "href": "17css3"
            }, {
                "name": "location对象和history对象",
                "href": "16location_history"
            }, {
                "name": "精简和优化常用逻辑，开发工具优化",
                "href": "15optimize"
            }, {
                "name": "抓包工具介绍",
                "href": "14capture"
            }, {
                "name": "Homebrew-macOS缺失的软件包管理器",
                "href": "13brew"
            }, {
                "name": "SEO从理论到实践",
                "href": "12seo"
            }, {
                "name": "音标学习记录-国际音标",
                "href": "11IPA"
            }, {
                "name": "TypeScript入门",
                "href": "10typescript"
            }, {
                "name": "github个人博客绑定单独阿里域名指南",
                "href": "9github_pages"
            }, {
                "name": "搜索引擎命令大全！",
                "href": "8search_engine_shortcuts"
            }, {
                "name": "Linux入门基础篇",
                "href": "7linux_base"
            }, {
                "name": "CSS之BFC、IFC、FFC and GFC",
                "href": "6fc"
            }, {
                "name": "陀螺仪属性介绍和实战",
                "href": "5gyroscope"
            }, {
                "name": "web语义化，从松散到实战",
                "href": "4semantic"
            }, {
                "name": "前端跨域深入理解",
                "href": "3domain"
            }, {
                "name": "快速安装自己的Sublime系列",
                "href": "2sublime"
            }, {
                "name": "hint.css使用说明",
                "href": "1hint"
            }]
        };
        var vm = new Vue({
            el: '#list__box',
            data: {
                rootDire: './blog/',
                list: dataList.list,
            },
            created: function () {
                var camera, scene, renderer;

                var texture_placeholder,
                    isUserInteracting = false,
                    onMouseDownMouseX = 0,
                    onMouseDownMouseY = 0,
                    lon = 90,
                    onMouseDownLon = 0,
                    lat = 0,
                    onMouseDownLat = 0,
                    phi = 0,
                    theta = 0,
                    target = new THREE.Vector3();

                init();
                animate();

                function init() {

                    var container, mesh;

                    container = document.getElementById('container');

                    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1,
                        1100);

                    scene = new THREE.Scene();

                    texture_placeholder = document.createElement('canvas');
                    texture_placeholder.width = 128;
                    texture_placeholder.height = 128;

                    var context = texture_placeholder.getContext('2d');
                    context.fillStyle = 'rgb( 200, 200, 200 )';
                    context.fillRect(0, 0, texture_placeholder.width, texture_placeholder.height);

                    var materials = [

                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/px.jpg'), // right
                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/nx.jpg'), // left
                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/py.jpg'), // top
                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/ny.jpg'), // bottom
                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/pz.jpg'), // back
                        loadTexture('http://p1g0rvvn6.bkt.clouddn.com/nz.jpg') // front

                    ];

                    var geometry = new THREE.BoxGeometry(300, 300, 300, 7, 7, 7);
                    geometry.scale(-1, 1, 1);

                    mesh = new THREE.Mesh(geometry, materials);
                    scene.add(mesh);

                    for (var i = 0, l = mesh.geometry.vertices.length; i < l; i++) {

                        var vertex = mesh.geometry.vertices[i];

                        vertex.normalize();
                        vertex.multiplyScalar(550);

                    }

                    renderer = new THREE.CanvasRenderer();
                    renderer.setPixelRatio(window.devicePixelRatio);
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    container.appendChild(renderer.domElement);

                    document.addEventListener('mousedown', onDocumentMouseDown, false);
                    document.addEventListener('mousemove', onDocumentMouseMove, false);
                    document.addEventListener('mouseup', onDocumentMouseUp, false);
                    document.addEventListener('wheel', onDocumentMouseWheel, false);

                    document.addEventListener('touchstart', onDocumentTouchStart, false);
                    document.addEventListener('touchmove', onDocumentTouchMove, false);

                    //

                    window.addEventListener('resize', onWindowResize, false);

                }

                function onWindowResize() {

                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();

                    renderer.setSize(window.innerWidth, window.innerHeight);

                }

                function loadTexture(path) {

                    var texture = new THREE.Texture(texture_placeholder);
                    var material = new THREE.MeshBasicMaterial({
                        map: texture,
                        overdraw: 0.5
                    });

                    var image = new Image();
                    image.onload = function () {

                        texture.image = this;
                        texture.needsUpdate = true;

                    };
                    image.src = path;

                    return material;

                }

                function onDocumentMouseDown(event) {

                    event.preventDefault();

                    isUserInteracting = true;

                    onPointerDownPointerX = event.clientX;
                    onPointerDownPointerY = event.clientY;

                    onPointerDownLon = lon;
                    onPointerDownLat = lat;

                }

                function onDocumentMouseMove(event) {

                    if (isUserInteracting === true) {

                        lon = (onPointerDownPointerX - event.clientX) * 0.1 + onPointerDownLon;
                        lat = (event.clientY - onPointerDownPointerY) * 0.1 + onPointerDownLat;

                    }
                }

                function onDocumentMouseUp(event) {

                    isUserInteracting = false;

                }

                function onDocumentMouseWheel(event) {

                    var fov = camera.fov + event.deltaY * 0.05;

                    camera.fov = THREE.Math.clamp(fov, 10, 75);

                    camera.updateProjectionMatrix();

                }

                function onDocumentTouchStart(event) {

                    if (event.touches.length == 1) {

                        event.preventDefault();

                        onPointerDownPointerX = event.touches[0].pageX;
                        onPointerDownPointerY = event.touches[0].pageY;

                        onPointerDownLon = lon;
                        onPointerDownLat = lat;

                    }

                }

                function onDocumentTouchMove(event) {

                    if (event.touches.length == 1) {

                        event.preventDefault();

                        lon = (onPointerDownPointerX - event.touches[0].pageX) * 0.1 + onPointerDownLon;
                        lat = (event.touches[0].pageY - onPointerDownPointerY) * 0.1 + onPointerDownLat;

                    }

                }

                function animate() {

                    requestAnimationFrame(animate);
                    update();

                }

                function update() {

                    if (isUserInteracting === false) {

                        lon += 0.1;

                    }

                    lat = Math.max(-85, Math.min(85, lat));
                    phi = THREE.Math.degToRad(90 - lat);
                    theta = THREE.Math.degToRad(lon);

                    target.x = 500 * Math.sin(phi) * Math.cos(theta);
                    target.y = 500 * Math.cos(phi);
                    target.z = 500 * Math.sin(phi) * Math.sin(theta);

                    camera.position.copy(target).negate();
                    camera.lookAt(target);

                    renderer.render(scene, camera);

                }
            }
        });
    </script>
</body>

</html>