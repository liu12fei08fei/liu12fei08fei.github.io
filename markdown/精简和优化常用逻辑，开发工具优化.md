# 精简和优化常用逻辑，开发工具优化

[TOC]

## 请求客户端参数

```
// 从安卓获取相关数据
var baseKey = window.$CooHua?window.$CooHua.getBaseKey():console.log('未提供获取酷划ticket接口(getBaseKey)');
var coohuaId = window.$CooHua?window.$CooHua.common_getCooHuaId():console.log('未提供获取酷划id接口(common_getCooHuaId)');
var Version = window.$CooHua?window.$CooHua.common_getVersionCode():console.log('未提供获取酷划Version接口(common_getVersionCode)');
console.log(baseKey,coohuaId,Version);
```

## 检测后台返回数据类型string/json，统一在前台转换成json格式

```
var data = typeof(data)==='string'?JSON.parse(data):data;
```

## SublimeText插件Emmet自定义模板

> 工具栏打开Preferences -> Package Settings -> Emmet -> Setting - Default
> 参考这个来进行自定义模板
> 用户配置文件中修改：我们打开Preferences -> Package Settings -> Emmet -> Setting - User文件，添加如下代码：

```
{
	// Custom snippets definitions, as per https://github.com/emmetio/emmet/blob/master/snippets.json
	"snippets": {
		"html": {
			"abbreviations": {
	            "example": "<div class='example' title='Custom element example'>",
	            "viewport":"meta[name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no']",
	            "telephone":"meta[name='format-detection' content='telephone=no']",
	            "doc": "html>(head>meta[charset='utf-8']+viewport+telephone+title{${1:文档标题}}+style{${1:body{margin:0;padding:0;font-family:'helvetica neue', tahoma, 'hiragino sans gb', stheiti, 'wenquanyi micro hei', Microsoft YaHei, SimSun, sans-serif;line-height:1;}}})+body",
	            "!": "!!!+doc[lang='zh-CN']"
	        }
		}
	}
}
```

