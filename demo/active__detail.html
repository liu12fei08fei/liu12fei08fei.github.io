<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>活动详情</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalabel=no">
</head>
<body>
<style>
body{margin:0;padding:0;line-height:1;max-width:720px;margin:0 auto;background:rgba(0,0,0,.5);
background:radial-gradient(rgba(255,255,255,0),rgba(0,0,0,.4));
}
.page__box{background:#fff;}
/*banner*/
.active__banner{overflow:hidden;}
.active__banner img{float:left;width:100%;}
/*active name 默认压力/睡眠/乐趣*/
.active__name{overflow:hidden;padding:16px 12px 10px;vertical-align:middle;}
.active__name .name{font-size:20px;color:#3A332B;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;padding-right:4px;}
.active__name .label{background:linear-gradient(to right,transparent 11px,#EDE2FF 0);color:#855BC9;font-size:12px;display:inline-block;padding:5px 10px;border-radius:2px;position:relative;overflow:hidden;padding-left:14px;}
.active__name .label::before{content:'';width:20px;height:20px;background:linear-gradient(45deg,#EDE2FF 12px,transparent 0);position:absolute;top:1px;left:4px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:2px;}
/*饮食标签*/
.active__name .label__diet{background:linear-gradient(to right,transparent 11px,#e2faf1 0);color:#855BC9;color:#2FCA8E;}
.active__name .label__diet::before{background:linear-gradient(45deg,#e2faf1 12px,transparent 0);}
/*运动标签*/
.active__name .label__sport{background:linear-gradient(to right,transparent 11px,#e8eeff 0);color:#855BC9;color:#4C7AFF;}
.active__name .label__sport::before{background:linear-gradient(45deg,#e8eeff 12px,transparent 0);}
/*时间和人*/
.time__join{font-size:12px;color:#9B9B9B;padding:0 12px;overflow:hidden;}
.time__join .time{float:left;background:url(https://data.upfitapp.com/data/2017/11/17/1732015109135548898.png) no-repeat left;background-size:contain;padding-left:18px;}
.time__join .join{float:right;background:url(https://data.upfitapp.com/data/2017/11/17/1732015109135552967.png) no-repeat left;background-size:contain;padding-left:14px;}
/*简介*/
.active__intro{padding:16px 12px 0;font-size:14px;color:#3A332C;line-height:1.4;position:relative;text-align:justify;}
.active__intro .label{display:none;font-size:14px;color:#FF8E00;}
/*活动详情*/
.active__title{font-size:18px;color:#3A332B;padding-top:21px;padding-left:12px;margin:0 12px;position:relative;border-top:solid 1px #DEDEDE;margin-top:20px;}
.active__title::after{content:'';width:4px;height:18px;background:#FD8E25;position:absolute;top:20px;left:0;}
/*con*/
.active__detail{padding-bottom:20px;}
.active__box{position:relative;}
.active__box::after{content:'';-webkit-box-shadow:0 0 0 1px #3A332C inset;box-shadow:0 0 0 1px #3A332C inset;position:absolute;top:-50%;left:calc(-50% + 24px);right:calc(-50% + 24px);bottom:-50%;-webkit-transform:scale(.5);transform:scale(.5);border-radius:8px;}
.active__box .box{color:#3A332C;margin:16px 12px 0;padding:12px;border:solid 1px transparent;border-radius:4px;}
.active__box .name{font-size:14px;font-weight:bold;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:30px;}
.active__box .inte{font-size:12px;padding-top:12px;}
/*成功*/
.active__done .icon{width:14px;height:20px;background:#FF5B62;border-radius:2px 2px 0 0;position:absolute;top:-2px;right:28px;z-index:1;}
.active__done .icon::before{content:'';width:7px;height:7px;background:linear-gradient(150deg,transparent 50%,#fff 0);position:absolute;bottom:-1px;right:0;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);}
.active__done .icon::after{content:'';width:7px;height:7px;background:linear-gradient(150deg,transparent 50%,#fff 0);position:absolute;bottom:-1px;left:0;}
.active__done .icon .item{width:10px;height:6px;-webkit-transform:scale(.8) rotate(-45deg);transform:scale(.8) rotate(-45deg);-webkit-box-shadow:2px -2px 0 0 #fff inset;box-shadow:2px -2px 0 0 #fff inset;border-radius:1px;position:absolute;top:4px;left:2px;}
/*shut*/
.active__fail::after{display:none;}
.active__fail .box{background:#F1F1F1;color:#9B9B9B;}
.active__fail .icon{width:14px;height:20px;background:#9B9B9B;border-radius:2px 2px 0 0;position:absolute;top:-2px;right:28px;z-index:1;}
.active__fail .icon::before{content:'';width:7px;height:7px;background:linear-gradient(150deg,transparent 50%,#F1F1F1 0);position:absolute;bottom:-1px;right:0;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);}
.active__fail .icon::after{content:'';width:7px;height:7px;background:linear-gradient(150deg,transparent 50%,#F1F1F1 0);position:absolute;bottom:-1px;left:0;}
.active__fail .icon .item{width:2px;height:12px;-webkit-transform:scale(.8) rotate(45deg);transform:scale(.8) rotate(45deg);-webkit-box-shadow:2px -2px 0 0 #fff inset;box-shadow:2px -2px 0 0 #fff inset;border-radius:1px;position:absolute;top:2px;left:6px;}
.active__fail .icon .item::before{content:'';width:12px;height:2px;-webkit-box-shadow:2px -2px 0 0 #fff inset;box-shadow:2px -2px 0 0 #fff inset;border-radius:1px;position:absolute;top:5px;left:-5px;}
/*现在*/
.active__now::after{display:none;}
.active__now .box{background:-webkit-gradient(linear,left top, left bottom,from(#FFA54F),to(#FF7D34));background:linear-gradient(to bottom,#FFA54F,#FF7D34);color:#fff;-webkit-box-shadow:0 6px 10px 2px rgba(255,124,47,.35);box-shadow:0 6px 10px 2px rgba(255,124,47,.35);}
.active__now .icon{width:10px;height:10px;-webkit-box-shadow:-2px -2px 0 0 #fff inset;box-shadow:-2px -2px 0 0 #fff inset;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);position:absolute;top:24px;right:32px;}
/*future*/
.active__future::after{-webkit-box-shadow:0 0 0 1px #9B9B9B inset;box-shadow:0 0 0 1px #9B9B9B inset;}
.active__future .box{color:#9B9B9B;}
.active__future .icon{width:8px;height:10px;background:#9B9B9B;position:absolute;top:28px;right:32px;}
.active__future .icon::before{content:'';width:6px;height:10px;background:#9B9B9B;position:absolute;top:0;left:-2px;-webkit-transform:skew(-4deg);transform:skew(-4deg);border-radius:1px;}
.active__future .icon::after{content:'';width:6px;height:10px;background:#9B9B9B;position:absolute;top:0;right:-2px;-webkit-transform:skew(4deg);transform:skew(4deg);border-radius:1px;}
.active__future .item{width:4px;height:4px;background:#fff;position:absolute;top:2px;left:2px;border-radius:50%;z-index:1;}
.active__future .item::before{content:'';width:8px;height:6px;background:transparent;position:absolute;top:-6px;left:-2px;-webkit-box-shadow:0 0 0 2px #9B9B9B inset;box-shadow:0 0 0 2px #9B9B9B inset;border-radius:1px 1px 0 0;-webkit-transform:scale(.8);transform:scale(.8);}
.active__future .item::after{content:'';width:2px;height:4px;background:#fff;position:absolute;top:2px;left:1px;z-index:1;border-radius:1px;}
</style>
<div class="page__box">
    <div class="active__banner">
        <img src="https://data.upfitapp.com/data/2017/11/17/1732015109106400100.png" alt="banner">
    </div>
    <!-- 名字和标签 -->
    <div class="active__name">
        <div class="name">时间管理大法</div>
        <div class="label">压力/睡眠/乐趣</div>
    </div>
    <!-- 时间和人 -->
    <div class="time__join">
        <div class="time">2017/11/01 - 2017/11/28</div>
        <div class="join">33217人已参加</div>
    </div>
    <!-- 简介 -->
    <div class="active__intro">
        <span>简介：想要在一天中找出更多的时间吗？这个挑战系列会帮助你简化你的任务，更好的利用待办事项清单，并更加省时地完成你的日程计划。如果你对时间感，想要在一天中找出更多的时间吗？这个挑战系列会帮助你简化你的任务，更好的利用待办事项清单，并更加省时地完成你的日程计划。</span>
        <div class="label">全部</div>
    </div>
    <!-- 活动详情 -->
    <div class="active__title">活动详情</div>
    <!-- 活动模块 -->
    <div class="active__detail">
        <div class="active__box active__done">
            <div class="box">
                <div class="icon"><div class="item"></div></div>
                <div class="name">第1天：花10分钟记录下一个月即将到来发来的啦，花10分钟记录下一个月即将到来发来的啦</div>
                <div class="inte">任务奖励：5积分</div>
            </div>
        </div>
        <div class="active__box active__fail">
            <div class="box">
                <div class="icon"><div class="item"></div></div>
                <div class="name">第1天：花10分钟记录下一个月即将到来发来的啦，花10分钟记录下一个月即将到来发来的啦</div>
                <div class="inte">任务奖励：5积分</div>
            </div>
        </div>
        <div class="active__box active__now">
            <div class="box">
                <div class="icon"><div class="item"></div></div>
                <div class="name">第1天：花10分钟记录下一个月即将到来发来的啦，花10分钟记录下一个月即将到来发来的啦</div>
                <div class="inte">任务奖励：5积分</div>
            </div>
        </div>
        <div class="active__box active__future">
            <div class="box">
                <div class="icon"><div class="item"></div></div>
                <div class="name">第1天：花10分钟记录下一个月即将到来发来的啦，花10分钟记录下一个月即将到来发来的啦</div>
                <div class="inte">任务奖励：5积分</div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
<script>
var text = $('.active__intro span').text();
detailTextLimit(text);
function detailTextLimit(text){
    var textLen = text.length;
    var textRtn = '';
    var boo = true;
    if(textLen<=60){
        textRtn = text;
    }else{
        $('.active__intro').addClass('active__intro-hover').find('.label').css('display','inline-block');
        textRtn = text.slice(0,60)+'...';
    }
    $('.active__intro span').text(textRtn);
    $('.active__intro-hover').click(function(){
        if(boo){
            $(this).removeClass('active__intro-hover');
            boo = !boo;
            $('.active__intro span').text(text);
            $('.active__intro .label').text('收起');
        }else{
            $(this).addClass('active__intro-hover');
            boo = !boo;
            $('.active__intro span').text(textRtn);
            $('.active__intro .label').text('全部');
        }
    });
}
</script>
</body>
</html>