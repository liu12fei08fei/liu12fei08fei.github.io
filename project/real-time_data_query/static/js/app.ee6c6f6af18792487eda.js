webpackJsonp([1],{"1uuo":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("zL8q"),n=a.n(i),o=(a("tvR6"),a("mtWM")),r=a.n(o),l=a("XLwt"),c=a.n(l),d=(a("1nuA"),Object({NODE_ENV:"production"}).API_ROOT),v={name:"App",created:function(){this.axiosGetSelect()},mounted:function(){var t=this;t.dayValue=t.fromatDate(Date.now()-864e5);for(var e=[],a=0;a<1e3;a++)e.push({});t.chartsList=e},methods:{exportData:function(){r.a.post(d+"/api/rt_au_nu/save_data",{save_data:this.downloadText}).then(function(t){var e=t.status;(e>=200&&e<300||304==e)&&(console.log(t.data),window.location.href=d+t.data)}).catch(function(t){console.log(t)})},fromatDate:function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,i=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds();return a+"-"+this.evenNum(s)+"-"+this.evenNum(i)},evenNum:function(t){return t<10?"0"+t:""+t},axiosGetSelect:function(){var t=this;r.a.get("./static/allproduct.json").then(function(e){var a=e.status;if(a>=200&&a<300||304==a){var s=e.data.data;t.optionsProduct=s,t.valueProduct=s[0].product_name,r.a.get("./static/allosbyproduct.json",{product:s[0]}).then(function(e){var a=e.status;if(a>=200&&a<300||304==a){t.valueSystem=e.data.data[0].os_name,t.optionsSystem=e.data.data;var s=t.fromatDate(Date.now()-864e5);t.axiosPostDataList(s)}}).catch(function(t){console.log(t)})}}).catch(function(t){console.log(t)})},searchData:function(){var t=this.dayValue;t="[object String]"===Object.prototype.toString.call(t)?t:this.fromatDate(t),this.axiosPostDataList(t)},axiosPostDataList:function(t){var e=this,a=e.fromatDate(Date.now()),s=(e.optionsProduct,e.optionsSystem,e.valueProduct),i=e.valueSystem;e.loading=!0,r.a.get("./static/list.json",{product:s,cur_date:a,ref_date:t,granularity:"hour",os:i,channel:"",version:""}).then(function(s){var i=s.status;if(i>=200&&i<300||304==i){s.data=s.data.data;var n=s.data.save_data,o=s.data.col_name,r=s.data.cur_data,l=s.data.ref_data,c=r.concat(l),d=t,v=a,u=[];e.theadList=o,e.downloadText=n,e.tableData=c;for(var _=0;_<24;_++)u.push(e.evenNum(_));var f=o.slice(2),m={},p=[];f.forEach(function(t,e){var a=[],s=[];l.forEach(function(e,s){a.push(e[t.id])}),r.forEach(function(e,a){s.push(e[t.id])});u[r.length-2];var i="",n="";r.length>0&&r.length<2&&r.length<=1?(i=l[r.length-1][f[e].id],n=r[r.length-1][f[e].id]):(i=l[r.length-2][f[e].id],n=r[r.length-2][f[e].id]);var o=((n-i)/i*100).toFixed(2)+"%",c=2;c=n-i>0?0:n-i<0?1:2,m={el:"charts_box_"+(e+1),text:f[e].name,subtext:o,subColor:c,xAxis:u,nameBase:d,nameMain:v,seriesBase:a,seriesMain:s},p.push(m)}),e.chartsList=f,p.forEach(function(t,a){e.createEchart(p[a])})}e.loading=!1}).catch(function(t){console.log(t)})},formatter:function(t,e){return t.address},addComma:function(t){return"[object Number]"===Object.prototype.toString.call(t)?String(t).replace(/(\d)(?=(\d{3})+$)/g,"$1,"):t},createEchart:function(t){var e=this,a=c.a.init(document.getElementById(t.el),null,{renderer:"svg"}),s=t.subColor,i=t.subtext,n="";0==s?(n="#93ce58",i+=" ⇧"):1==s?(n="#fa131e",i+=" ⇩"):(n="#aaa",i+=" ⇕"),a.setOption({title:{text:t.text,textStyle:{fontSize:"18px",fontWeight:400},subtext:i,subtextStyle:{color:n,fontSize:"14px"},x:"center",align:"right"},color:["#bfbfbf","#409EFF"],tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){var a="",s=[],i="";return t.forEach(function(t,n){var o=t.dataIndex,r=t.marker,l=t.seriesName,c=t.value;t.color;i="<div>"+o+"点+"+(o+1)%24+"点</div>",a="\n                  <div>"+r+" "+l+"："+e.addComma(c)+"</div>\n                ",s.unshift(a)}),i+s.join("")}},legend:{bottom:0},dataZoom:[{type:"inside",xAxisIndex:[0],start:1,end:100},{type:"slider",show:!1,xAxisIndex:[0],start:1,end:100}],xAxis:{type:"category",data:t.xAxis},yAxis:{axisLabel:{formatter:function(t){return t>=1e3?t/1e3+"k":t}}},series:[{name:t.nameBase,type:"line",data:t.seriesBase,symbol:"circle",symbolSize:6},{name:t.nameMain,type:"line",data:t.seriesMain,areaStyle:{normal:{color:"rgba(64,158,255,.3)"}},symbol:"circle",symbolSize:6,lineStyle:{width:2}}]})}},data:function(){return{loading:!1,chartsList:[],pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()-864e5},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dayValue:"",optionsProduct:[],valueProduct:"",optionsSystem:[],valueSystem:"",downloadText:"",theadList:[],tableData:[]}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"ff_loading_box"},[a("div",{staticClass:"ff_loading_bg"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8)]),t._v(" "),t._m(9),t._v(" "),a("main",[a("div",{staticClass:"operation_box"},[a("div",{staticClass:"operation_item"},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("对比日期")]),t._v(" "),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,format:"yyyy-MM-dd"},model:{value:t.dayValue,callback:function(e){t.dayValue=e},expression:"dayValue"}})],1)]),t._v(" "),a("div",{staticClass:"operation_item"},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("产品")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.valueProduct,callback:function(e){t.valueProduct=e},expression:"valueProduct"}},t._l(t.optionsProduct,function(t){return a("el-option",{key:t.product_id,attrs:{label:t.show_product_name,value:t.product_name,selected:"selected"}})}))],1)]),t._v(" "),a("div",{staticClass:"operation_item"},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("系统")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.valueSystem,callback:function(e){t.valueSystem=e},expression:"valueSystem"}},t._l(t.optionsSystem,function(t){return a("el-option",{key:t.os_id,attrs:{label:t.show_os_name,value:t.os_name}})}))],1)]),t._v(" "),a("div",{staticClass:"operation_item"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.searchData}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"point_box"},[t._v("注：标题下的数为上一时段今日与对比日同时段的变化率")]),t._v(" "),a("el-row",{staticStyle:{"padding-left":"30px"}},t._l(t.chartsList,function(t,e){return a("el-col",{key:e,attrs:{span:12}},[a("div",{staticClass:"charts_box",attrs:{id:"charts_box_"+(e+1)}})])})),t._v(" "),a("div",{staticClass:"btn_download"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.exportData}},[t._v("导出数据")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","box-sizing":"border-box",padding:"24px"},attrs:{data:t.tableData,stripe:"","default-sort":{prop:"date",order:"descending"}}},t._l(t.theadList,function(e){return a("el-table-column",{key:e.id,attrs:{prop:e.id,label:e.name,sortable:""},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",[t._v(t._s(t.addComma(s.row[e.id])))])]}}])})}))],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ff_loading_9 item"},[a("div",{staticClass:"multi-ball"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ff_loading_8 item"},[e("div",{staticClass:"roataqx-loader"},[e("div",{staticClass:"one"}),this._v(" "),e("div",{staticClass:"two"}),this._v(" "),e("div",{staticClass:"three"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ff_loading_7 item"},[e("div",{staticClass:"ball-clip-rotate-pulse"},[e("div"),this._v(" "),e("div")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ff_loading_6 item"},[e("div",{staticClass:"ball-scale-multiple"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ff_loading_5 item"},[a("div",{staticClass:"pacman"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ff_loading_4 item"},[a("div",{staticClass:"line-scale-pulse-out"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ff_loading_3 item"},[e("div",{staticClass:"spinner"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ff_loading_2 item"},[e("div",{staticClass:"ojlge-box"},[e("div",{staticClass:"loading outer"},[e("div",{staticClass:"loading inner"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ff_loading_1 item"},[a("div",{staticClass:"ff_loading_space"},[a("div",{staticClass:"flip-txt-loading"},[a("span",[t._v("L")]),a("span",[t._v("o")]),a("span",[t._v("a")]),a("span",[t._v("d")]),a("span",[t._v("i")]),a("span",[t._v("n")]),a("span",[t._v("g")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"person"},[t._v("如数据有误，请联系数据组")]),t._v(" "),a("div",{staticClass:"name"},[t._v("今日实时数据(小时)")])])}]};var _=a("VU/8")(v,u,!1,function(t){a("mHGg")},null,null).exports,f=a("/ocq"),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("\n        vue-router\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("\n        vuex\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("\n        vue-loader\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("\n        awesome-vue\n      ")])])])}]};var p=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},m,!1,function(t){a("1uuo")},"data-v-d8ec41bc",null).exports;s.default.use(f.a);var h=new f.a({routes:[{path:"/",name:"HelloWorld",component:p}]});s.default.config.productionTip=!1,s.default.use(n.a),new s.default({el:"#app",router:h,components:{App:_},template:"<App/>"})},mHGg:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ee6c6f6af18792487eda.js.map